// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r="function"==typeof Object.defineProperty?Object.defineProperty:null;var e=Object.defineProperty;function i(r){return"number"==typeof r}function t(r){var e,i="";for(e=0;e<r;e++)i+="0";return i}function n(r,e,i){var n=!1,a=e-r.length;return a<0||(function(r){return"-"===r[0]}(r)&&(n=!0,r=r.substr(1)),r=i?r+t(a):t(a)+r,n&&(r="-"+r)),r}var a=String.prototype.toLowerCase,o=String.prototype.toUpperCase;function s(r){var e,t,s;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(t=r.arg,s=parseInt(t,10),!isFinite(s)){if(!i(t))throw new Error("invalid integer. Value: "+t);s=0}return s<0&&("u"===r.specifier||10!==e)&&(s=4294967295+s+1),s<0?(t=(-s).toString(e),r.precision&&(t=n(t,r.precision,r.padRight)),t="-"+t):(t=s.toString(e),s||r.precision?r.precision&&(t=n(t,r.precision,r.padRight)):t="",r.sign&&(t=r.sign+t)),16===e&&(r.alternate&&(t="0x"+t),t=r.specifier===o.call(r.specifier)?o.call(t):a.call(t)),8===e&&r.alternate&&"0"!==t.charAt(0)&&(t="0"+t),t}function c(r){return"string"==typeof r}var p=Math.abs,l=String.prototype.toLowerCase,u=String.prototype.toUpperCase,f=String.prototype.replace,g=/e\+(\d)$/,d=/e-(\d)$/,h=/^(\d+)$/,w=/^(\d+)e/,b=/\.0$/,y=/\.0*e/,v=/(\..*[^0])0*e/;function m(r){var e,t,n=parseFloat(r.arg);if(!isFinite(n)){if(!i(r.arg))throw new Error("invalid floating-point number. Value: "+t);n=r.arg}switch(r.specifier){case"e":case"E":t=n.toExponential(r.precision);break;case"f":case"F":t=n.toFixed(r.precision);break;case"g":case"G":p(n)<1e-4?((e=r.precision)>0&&(e-=1),t=n.toExponential(e)):t=n.toPrecision(r.precision),r.alternate||(t=f.call(t,v,"$1e"),t=f.call(t,y,"e"),t=f.call(t,b,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return t=f.call(t,g,"e+0$1"),t=f.call(t,d,"e-0$1"),r.alternate&&(t=f.call(t,h,"$1."),t=f.call(t,w,"$1.e")),n>=0&&r.sign&&(t=r.sign+t),t=r.specifier===u.call(r.specifier)?u.call(t):l.call(t)}function E(r){var e,i="";for(e=0;e<r;e++)i+=" ";return i}function k(r,e,i){var t=e-r.length;return t<0?r:r=i?r+E(t):E(t)+r}var x=String.fromCharCode,S=isNaN,T=Array.isArray;function V(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function j(r){var e,i,t,a,o,p,l,u,f;if(!T(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(p="",l=1,u=0;u<r.length;u++)if(c(t=r[u]))p+=t;else{if(e=void 0!==t.precision,!(t=V(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+u+"`. Value: `"+t+"`.");for(t.mapping&&(l=t.mapping),i=t.flags,f=0;f<i.length;f++)switch(a=i.charAt(f)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=i.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+a)}if("*"===t.width){if(t.width=parseInt(arguments[l],10),l+=1,S(t.width))throw new TypeError("the argument for * width at position "+l+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[l],10),l+=1,S(t.precision))throw new TypeError("the argument for * precision at position "+l+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[l],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=s(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!S(t.arg)){if((o=parseInt(t.arg,10))<0||o>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=S(o)?String(t.arg):x(o)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=m(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=n(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=k(t.arg,t.width,t.padRight)),p+=t.arg||"",l+=1}return p}var $=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function F(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function A(r){var e,i,t,n;for(i=[],n=0,t=$.exec(r);t;)(e=r.slice(n,$.lastIndex-t[0].length)).length&&i.push(e),i.push(F(t)),n=$.lastIndex,t=$.exec(r);return(e=r.slice(n)).length&&i.push(e),i}function I(r){return"string"==typeof r}function _(r){var e,i,t;if(!I(r))throw new TypeError(_("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=A(r),(i=new Array(arguments.length))[0]=e,t=1;t<i.length;t++)i[t]=arguments[t];return j.apply(null,i)}var O,C=Object.prototype,R=C.toString,Z=C.__defineGetter__,W=C.__defineSetter__,L=C.__lookupGetter__,P=C.__lookupSetter__;O=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?e:function(r,e,i){var t,n,a,o;if("object"!=typeof r||null===r||"[object Array]"===R.call(r))throw new TypeError(_("invalid argument. First argument must be an object. Value: `%s`.",r));if("object"!=typeof i||null===i||"[object Array]"===R.call(i))throw new TypeError(_("invalid argument. Property descriptor must be an object. Value: `%s`.",i));if((n="value"in i)&&(L.call(r,e)||P.call(r,e)?(t=r.__proto__,r.__proto__=C,delete r[e],r[e]=i.value,r.__proto__=t):r[e]=i.value),a="get"in i,o="set"in i,n&&(a||o))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return a&&Z&&Z.call(r,e,i.get),o&&W&&W.call(r,e,i.set),r};var G=O;function U(r,e,i){G(r,e,{configurable:!1,enumerable:!1,writable:!1,value:i})}var N="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function X(){return N&&"symbol"==typeof Symbol.toStringTag}var B=Object.prototype.toString;var M=Object.prototype.hasOwnProperty;function z(r,e){return null!=r&&M.call(r,e)}var K="function"==typeof Symbol?Symbol:void 0,D="function"==typeof K?K.toStringTag:"";var q=X()?function(r){var e,i,t;if(null==r)return B.call(r);i=r[D],e=z(r,D);try{r[D]=void 0}catch(e){return B.call(r)}return t=B.call(r),e?r[D]=i:delete r[D],t}:function(r){return B.call(r)};var H=Array.isArray?Array.isArray:function(r){return"[object Array]"===q(r)};function J(r){return"number"==typeof r}function Q(r){var e,i="";for(e=0;e<r;e++)i+="0";return i}function Y(r,e,i){var t=!1,n=e-r.length;return n<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=i?r+Q(n):Q(n)+r,t&&(r="-"+r)),r}var rr=String.prototype.toLowerCase,er=String.prototype.toUpperCase;function ir(r){var e,i,t;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(i=r.arg,t=parseInt(i,10),!isFinite(t)){if(!J(i))throw new Error("invalid integer. Value: "+i);t=0}return t<0&&("u"===r.specifier||10!==e)&&(t=4294967295+t+1),t<0?(i=(-t).toString(e),r.precision&&(i=Y(i,r.precision,r.padRight)),i="-"+i):(i=t.toString(e),t||r.precision?r.precision&&(i=Y(i,r.precision,r.padRight)):i="",r.sign&&(i=r.sign+i)),16===e&&(r.alternate&&(i="0x"+i),i=r.specifier===er.call(r.specifier)?er.call(i):rr.call(i)),8===e&&r.alternate&&"0"!==i.charAt(0)&&(i="0"+i),i}function tr(r){return"string"==typeof r}var nr=Math.abs,ar=String.prototype.toLowerCase,or=String.prototype.toUpperCase,sr=String.prototype.replace,cr=/e\+(\d)$/,pr=/e-(\d)$/,lr=/^(\d+)$/,ur=/^(\d+)e/,fr=/\.0$/,gr=/\.0*e/,dr=/(\..*[^0])0*e/;function hr(r){var e,i,t=parseFloat(r.arg);if(!isFinite(t)){if(!J(r.arg))throw new Error("invalid floating-point number. Value: "+i);t=r.arg}switch(r.specifier){case"e":case"E":i=t.toExponential(r.precision);break;case"f":case"F":i=t.toFixed(r.precision);break;case"g":case"G":nr(t)<1e-4?((e=r.precision)>0&&(e-=1),i=t.toExponential(e)):i=t.toPrecision(r.precision),r.alternate||(i=sr.call(i,dr,"$1e"),i=sr.call(i,gr,"e"),i=sr.call(i,fr,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return i=sr.call(i,cr,"e+0$1"),i=sr.call(i,pr,"e-0$1"),r.alternate&&(i=sr.call(i,lr,"$1."),i=sr.call(i,ur,"$1.e")),t>=0&&r.sign&&(i=r.sign+i),i=r.specifier===or.call(r.specifier)?or.call(i):ar.call(i)}function wr(r){var e,i="";for(e=0;e<r;e++)i+=" ";return i}function br(r,e,i){var t=e-r.length;return t<0?r:r=i?r+wr(t):wr(t)+r}var yr=String.fromCharCode,vr=isNaN,mr=Array.isArray;function Er(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function kr(r){var e,i,t,n,a,o,s,c,p;if(!mr(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(o="",s=1,c=0;c<r.length;c++)if(tr(t=r[c]))o+=t;else{if(e=void 0!==t.precision,!(t=Er(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+t+"`.");for(t.mapping&&(s=t.mapping),i=t.flags,p=0;p<i.length;p++)switch(n=i.charAt(p)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=i.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+n)}if("*"===t.width){if(t.width=parseInt(arguments[s],10),s+=1,vr(t.width))throw new TypeError("the argument for * width at position "+s+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[s],10),s+=1,vr(t.precision))throw new TypeError("the argument for * precision at position "+s+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[s],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=ir(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!vr(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=vr(a)?String(t.arg):yr(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=hr(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=Y(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=br(t.arg,t.width,t.padRight)),o+=t.arg||"",s+=1}return o}var xr=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function Sr(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function Tr(r){var e,i,t,n;for(i=[],n=0,t=xr.exec(r);t;)(e=r.slice(n,xr.lastIndex-t[0].length)).length&&i.push(e),i.push(Sr(t)),n=xr.lastIndex,t=xr.exec(r);return(e=r.slice(n)).length&&i.push(e),i}function Vr(r){return"string"==typeof r}function jr(r){var e,i,t;if(!Vr(r))throw new TypeError(jr("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=Tr(r),(i=new Array(arguments.length))[0]=e,t=1;t<i.length;t++)i[t]=arguments[t];return kr.apply(null,i)}function $r(r){return null!==r&&"object"==typeof r}function Fr(r){return"string"==typeof r}U($r,"isObjectLikeArray",function(r){if("function"!=typeof r)throw new TypeError(jr("invalid argument. Must provide a function. Value: `%s`.",r));return function(e){var i,t;if(!H(e))return!1;if(0===(i=e.length))return!1;for(t=0;t<i;t++)if(!1===r(e[t]))return!1;return!0}}($r));var Ar=String.prototype.valueOf;var Ir=X();function _r(r){return"object"==typeof r&&(r instanceof String||(Ir?function(r){try{return Ar.call(r),!0}catch(r){return!1}}(r):"[object String]"===q(r)))}function Or(r){return Fr(r)||_r(r)}U(Or,"isPrimitive",Fr),U(Or,"isObject",_r);var Cr=/./;function Rr(r){return"boolean"==typeof r}var Zr=Boolean,Wr=Boolean.prototype.toString;var Lr=X();function Pr(r){return"object"==typeof r&&(r instanceof Zr||(Lr?function(r){try{return Wr.call(r),!0}catch(r){return!1}}(r):"[object Boolean]"===q(r)))}function Gr(r){return Rr(r)||Pr(r)}function Ur(r){return"number"==typeof r}function Nr(r){var e,i="";for(e=0;e<r;e++)i+="0";return i}function Xr(r,e,i){var t=!1,n=e-r.length;return n<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=i?r+Nr(n):Nr(n)+r,t&&(r="-"+r)),r}U(Gr,"isPrimitive",Rr),U(Gr,"isObject",Pr);var Br=String.prototype.toLowerCase,Mr=String.prototype.toUpperCase;function zr(r){var e,i,t;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(i=r.arg,t=parseInt(i,10),!isFinite(t)){if(!Ur(i))throw new Error("invalid integer. Value: "+i);t=0}return t<0&&("u"===r.specifier||10!==e)&&(t=4294967295+t+1),t<0?(i=(-t).toString(e),r.precision&&(i=Xr(i,r.precision,r.padRight)),i="-"+i):(i=t.toString(e),t||r.precision?r.precision&&(i=Xr(i,r.precision,r.padRight)):i="",r.sign&&(i=r.sign+i)),16===e&&(r.alternate&&(i="0x"+i),i=r.specifier===Mr.call(r.specifier)?Mr.call(i):Br.call(i)),8===e&&r.alternate&&"0"!==i.charAt(0)&&(i="0"+i),i}function Kr(r){return"string"==typeof r}var Dr=Math.abs,qr=String.prototype.toLowerCase,Hr=String.prototype.toUpperCase,Jr=String.prototype.replace,Qr=/e\+(\d)$/,Yr=/e-(\d)$/,re=/^(\d+)$/,ee=/^(\d+)e/,ie=/\.0$/,te=/\.0*e/,ne=/(\..*[^0])0*e/;function ae(r){var e,i,t=parseFloat(r.arg);if(!isFinite(t)){if(!Ur(r.arg))throw new Error("invalid floating-point number. Value: "+i);t=r.arg}switch(r.specifier){case"e":case"E":i=t.toExponential(r.precision);break;case"f":case"F":i=t.toFixed(r.precision);break;case"g":case"G":Dr(t)<1e-4?((e=r.precision)>0&&(e-=1),i=t.toExponential(e)):i=t.toPrecision(r.precision),r.alternate||(i=Jr.call(i,ne,"$1e"),i=Jr.call(i,te,"e"),i=Jr.call(i,ie,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return i=Jr.call(i,Qr,"e+0$1"),i=Jr.call(i,Yr,"e-0$1"),r.alternate&&(i=Jr.call(i,re,"$1."),i=Jr.call(i,ee,"$1.e")),t>=0&&r.sign&&(i=r.sign+i),i=r.specifier===Hr.call(r.specifier)?Hr.call(i):qr.call(i)}function oe(r){var e,i="";for(e=0;e<r;e++)i+=" ";return i}function se(r,e,i){var t=e-r.length;return t<0?r:r=i?r+oe(t):oe(t)+r}var ce=String.fromCharCode,pe=isNaN,le=Array.isArray;function ue(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function fe(r){var e,i,t,n,a,o,s,c,p;if(!le(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(o="",s=1,c=0;c<r.length;c++)if(Kr(t=r[c]))o+=t;else{if(e=void 0!==t.precision,!(t=ue(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+t+"`.");for(t.mapping&&(s=t.mapping),i=t.flags,p=0;p<i.length;p++)switch(n=i.charAt(p)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=i.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+n)}if("*"===t.width){if(t.width=parseInt(arguments[s],10),s+=1,pe(t.width))throw new TypeError("the argument for * width at position "+s+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[s],10),s+=1,pe(t.precision))throw new TypeError("the argument for * precision at position "+s+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[s],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=zr(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!pe(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=pe(a)?String(t.arg):ce(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=ae(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=Xr(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=se(t.arg,t.width,t.padRight)),o+=t.arg||"",s+=1}return o}var ge=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function de(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function he(r){var e,i,t,n;for(i=[],n=0,t=ge.exec(r);t;)(e=r.slice(n,ge.lastIndex-t[0].length)).length&&i.push(e),i.push(de(t)),n=ge.lastIndex,t=ge.exec(r);return(e=r.slice(n)).length&&i.push(e),i}function we(r){return"string"==typeof r}function be(r){var e,i,t;if(!we(r))throw new TypeError(be("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=he(r),(i=new Array(arguments.length))[0]=e,t=1;t<i.length;t++)i[t]=arguments[t];return fe.apply(null,i)}function ye(){return new Function("return this;")()}var ve="object"==typeof self?self:null,me="object"==typeof window?window:null,Ee="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},ke="object"==typeof Ee?Ee:null,xe="object"==typeof globalThis?globalThis:null;var Se=function(r){if(arguments.length){if(!Rr(r))throw new TypeError(be("invalid argument. Must provide a boolean. Value: `%s`.",r));if(r)return ye()}if(xe)return xe;if(ve)return ve;if(me)return me;if(ke)return ke;throw new Error("unexpected error. Unable to resolve global object.")}(),Te=Se.document&&Se.document.childNodes,Ve=Int8Array;function je(){return/^\s*function\s*([^(]*)/i}var $e=/^\s*function\s*([^(]*)/i;function Fe(r){return"number"==typeof r}function Ae(r){var e,i="";for(e=0;e<r;e++)i+="0";return i}function Ie(r,e,i){var t=!1,n=e-r.length;return n<0||(function(r){return"-"===r[0]}(r)&&(t=!0,r=r.substr(1)),r=i?r+Ae(n):Ae(n)+r,t&&(r="-"+r)),r}U(je,"REGEXP",$e);var _e=String.prototype.toLowerCase,Oe=String.prototype.toUpperCase;function Ce(r){var e,i,t;switch(r.specifier){case"b":e=2;break;case"o":e=8;break;case"x":case"X":e=16;break;default:e=10}if(i=r.arg,t=parseInt(i,10),!isFinite(t)){if(!Fe(i))throw new Error("invalid integer. Value: "+i);t=0}return t<0&&("u"===r.specifier||10!==e)&&(t=4294967295+t+1),t<0?(i=(-t).toString(e),r.precision&&(i=Ie(i,r.precision,r.padRight)),i="-"+i):(i=t.toString(e),t||r.precision?r.precision&&(i=Ie(i,r.precision,r.padRight)):i="",r.sign&&(i=r.sign+i)),16===e&&(r.alternate&&(i="0x"+i),i=r.specifier===Oe.call(r.specifier)?Oe.call(i):_e.call(i)),8===e&&r.alternate&&"0"!==i.charAt(0)&&(i="0"+i),i}function Re(r){return"string"==typeof r}var Ze=Math.abs,We=String.prototype.toLowerCase,Le=String.prototype.toUpperCase,Pe=String.prototype.replace,Ge=/e\+(\d)$/,Ue=/e-(\d)$/,Ne=/^(\d+)$/,Xe=/^(\d+)e/,Be=/\.0$/,Me=/\.0*e/,ze=/(\..*[^0])0*e/;function Ke(r){var e,i,t=parseFloat(r.arg);if(!isFinite(t)){if(!Fe(r.arg))throw new Error("invalid floating-point number. Value: "+i);t=r.arg}switch(r.specifier){case"e":case"E":i=t.toExponential(r.precision);break;case"f":case"F":i=t.toFixed(r.precision);break;case"g":case"G":Ze(t)<1e-4?((e=r.precision)>0&&(e-=1),i=t.toExponential(e)):i=t.toPrecision(r.precision),r.alternate||(i=Pe.call(i,ze,"$1e"),i=Pe.call(i,Me,"e"),i=Pe.call(i,Be,""));break;default:throw new Error("invalid double notation. Value: "+r.specifier)}return i=Pe.call(i,Ge,"e+0$1"),i=Pe.call(i,Ue,"e-0$1"),r.alternate&&(i=Pe.call(i,Ne,"$1."),i=Pe.call(i,Xe,"$1.e")),t>=0&&r.sign&&(i=r.sign+i),i=r.specifier===Le.call(r.specifier)?Le.call(i):We.call(i)}function De(r){var e,i="";for(e=0;e<r;e++)i+=" ";return i}function qe(r,e,i){var t=e-r.length;return t<0?r:r=i?r+De(t):De(t)+r}var He=String.fromCharCode,Je=isNaN,Qe=Array.isArray;function Ye(r){var e={};return e.specifier=r.specifier,e.precision=void 0===r.precision?1:r.precision,e.width=r.width,e.flags=r.flags||"",e.mapping=r.mapping,e}function ri(r){var e,i,t,n,a,o,s,c,p;if(!Qe(r))throw new TypeError("invalid argument. First argument must be an array. Value: `"+r+"`.");for(o="",s=1,c=0;c<r.length;c++)if(Re(t=r[c]))o+=t;else{if(e=void 0!==t.precision,!(t=Ye(t)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+c+"`. Value: `"+t+"`.");for(t.mapping&&(s=t.mapping),i=t.flags,p=0;p<i.length;p++)switch(n=i.charAt(p)){case" ":t.sign=" ";break;case"+":t.sign="+";break;case"-":t.padRight=!0,t.padZeros=!1;break;case"0":t.padZeros=i.indexOf("-")<0;break;case"#":t.alternate=!0;break;default:throw new Error("invalid flag: "+n)}if("*"===t.width){if(t.width=parseInt(arguments[s],10),s+=1,Je(t.width))throw new TypeError("the argument for * width at position "+s+" is not a number. Value: `"+t.width+"`.");t.width<0&&(t.padRight=!0,t.width=-t.width)}if(e&&"*"===t.precision){if(t.precision=parseInt(arguments[s],10),s+=1,Je(t.precision))throw new TypeError("the argument for * precision at position "+s+" is not a number. Value: `"+t.precision+"`.");t.precision<0&&(t.precision=1,e=!1)}switch(t.arg=arguments[s],t.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":e&&(t.padZeros=!1),t.arg=Ce(t);break;case"s":t.maxWidth=e?t.precision:-1;break;case"c":if(!Je(t.arg)){if((a=parseInt(t.arg,10))<0||a>127)throw new Error("invalid character code. Value: "+t.arg);t.arg=Je(a)?String(t.arg):He(a)}break;case"e":case"E":case"f":case"F":case"g":case"G":e||(t.precision=6),t.arg=Ke(t);break;default:throw new Error("invalid specifier: "+t.specifier)}t.maxWidth>=0&&t.arg.length>t.maxWidth&&(t.arg=t.arg.substring(0,t.maxWidth)),t.padZeros?t.arg=Ie(t.arg,t.width||t.precision,t.padRight):t.width&&(t.arg=qe(t.arg,t.width,t.padRight)),o+=t.arg||"",s+=1}return o}var ei=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function ii(r){var e={mapping:r[1]?parseInt(r[1],10):void 0,flags:r[2],width:r[3],precision:r[5],specifier:r[6]};return"."===r[4]&&void 0===r[5]&&(e.precision="1"),e}function ti(r){var e,i,t,n;for(i=[],n=0,t=ei.exec(r);t;)(e=r.slice(n,ei.lastIndex-t[0].length)).length&&i.push(e),i.push(ii(t)),n=ei.lastIndex,t=ei.exec(r);return(e=r.slice(n)).length&&i.push(e),i}function ni(r){return"string"==typeof r}function ai(r){var e,i,t;if(!ni(r))throw new TypeError(ai("invalid argument. First argument must be a string. Value: `%s`.",r));for(e=ti(r),(i=new Array(arguments.length))[0]=e,t=1;t<i.length;t++)i[t]=arguments[t];return ri.apply(null,i)}function oi(r){return null!==r&&"object"==typeof r}function si(r){var e,i,t,n;if(("Object"===(i=q(r).slice(8,-1))||"Error"===i)&&r.constructor){if("string"==typeof(t=r.constructor).name)return t.name;if(e=$e.exec(t.toString()))return e[1]}return oi(n=r)&&(n._isBuffer||n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n))?"Buffer":i}U(oi,"isObjectLikeArray",function(r){if("function"!=typeof r)throw new TypeError(ai("invalid argument. Must provide a function. Value: `%s`.",r));return function(e){var i,t;if(!H(e))return!1;if(0===(i=e.length))return!1;for(t=0;t<i;t++)if(!1===r(e[t]))return!1;return!0}}(oi));var ci="function"==typeof Cr||"object"==typeof Ve||"function"==typeof Te?function(r){return si(r).toLowerCase()}:function(r){var e;return null===r?"null":"object"===(e=typeof r)?si(r).toLowerCase():e};function pi(r){return"function"===ci(r)}var li,ui=Object,fi=Object.getPrototypeOf;li=pi(Object.getPrototypeOf)?fi:function(r){var e=function(r){return r.__proto__}(r);return e||null===e?e:"[object Function]"===q(r.constructor)?r.constructor.prototype:r instanceof Object?Object.prototype:null};var gi=li;var di=Object.prototype;function hi(r){var e;return!!function(r){return"object"==typeof r&&null!==r&&!H(r)}(r)&&(e=function(r){return null==r?null:(r=ui(r),gi(r))}(r),!e||!z(r,"constructor")&&z(e,"constructor")&&pi(e.constructor)&&"[object Function]"===q(e.constructor)&&z(e,"isPrototypeOf")&&pi(e.isPrototypeOf)&&(e===di||function(r){var e;for(e in r)if(!z(r,e))return!1;return!0}(r)))}function wi(r,e){return hi(e)?z(e,"sep")&&(r.sep=e.sep,!Fr(r.sep))?new TypeError(jr("invalid option. `%s` option must be a string. Option: `%s`.","sep",r.sep)):null:new TypeError(jr("invalid argument. Options argument must be an object. Value: `%s`.",e))}function bi(r,e){var i,t=e.length,n=r;for(i=0;i<t;i++){if(!$r(n)||!z(n,e[i]))return;n=n[e[i]]}return n}function yi(r,e){var i,t,n,a;if(!(i=Fr(r))&&!H(r))throw new TypeError(jr("invalid argument. Key path must be a string or a key array. Value: `%s`.",r));if(n={sep:"."},arguments.length>1&&(a=wi(n,e)))throw a;return t=i?r.split(n.sep):r,o;function o(r){if($r(r))return bi(r,t)}}function vi(){var r,e=arguments,i=e[0],t="https://stdlib.io/e/"+i+"?";for(r=1;r<e.length;r++)t+="&arg[]="+encodeURIComponent(e[r]);return t}function mi(r,e){return hi(e)?z(e,"copy")&&(r.copy=e.copy,!Rr(r.copy))?new TypeError(vi("1ST2o,GE","copy",r.copy)):z(e,"sep")&&(r.sep=e.sep,!Fr(r.sep))?new TypeError(vi("1ST2W,Gh","sep",r.sep)):null:new TypeError(vi("1ST2V,FD",e))}function Ei(r,e,i){var t,n,a,o,s;if(!H(r))throw new TypeError(vi("1ST51,Of",r));if(n={copy:!0,sep:"."},arguments.length>2&&(o=mi(n,i)))throw o;for(a=n.copy?new Array(r.length):r,t=yi(e,{sep:n.sep}),s=0;s<r.length;s++)a[s]=t(r[s]);return a}U((function(r,e,i){var t,n,a;if($r(r)){if(!(t=Fr(e))&&!H(e))throw new TypeError(jr("invalid argument. Key path must be a string or a key array. Value: `%s`.",e));if(n={sep:"."},arguments.length>2&&(a=wi(n,i)))throw a;return bi(r,t?e.split(n.sep):e)}}),"factory",yi);export{Ei as default};
//# sourceMappingURL=mod.js.map
