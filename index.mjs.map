{"version":3,"file":"index.mjs","sources":["../lib/validate.js","../lib/deep_pluck.js","../lib/index.js"],"sourcesContent":["/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar isBoolean = require( '@stdlib/assert-is-boolean' ).isPrimitive;\nvar isString = require( '@stdlib/assert-is-string' ).isPrimitive;\nvar isObject = require( '@stdlib/assert-is-plain-object' );\nvar hasOwnProp = require( '@stdlib/assert-has-own-property' );\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Validates function options.\n*\n* @private\n* @param {Object} opts - destination object\n* @param {Options} options - options to validate\n* @param {boolean} [options.copy] - boolean indicating whether to return a new data structure\n* @param {string} [options.sep] - key path separator\n* @returns {(Error|null)} error or null\n*\n* @example\n* var opts = {};\n* var options = {\n*     'copy': true,\n*     'sep': '-',\n* };\n* var err = validate( opts, options );\n* if ( err ) {\n*     throw err;\n* }\n*/\nfunction validate( opts, options ) {\n\tif ( !isObject( options ) ) {\n\t\treturn new TypeError( format( 'invalid argument. Options argument must be an object. Value: `%s`.', options ) );\n\t}\n\tif ( hasOwnProp( options, 'copy' ) ) {\n\t\topts.copy = options.copy;\n\t\tif ( !isBoolean( opts.copy ) ) {\n\t\t\treturn new TypeError( format( 'invalid option. `%s` option must be a boolean. Option: `%s`.', 'copy', opts.copy ) );\n\t\t}\n\t}\n\tif ( hasOwnProp( options, 'sep' ) ) {\n\t\topts.sep = options.sep;\n\t\tif ( !isString( opts.sep ) ) {\n\t\t\treturn new TypeError( format( 'invalid option. `%s` option must be a string. Option: `%s`.', 'sep', opts.sep ) );\n\t\t}\n\t}\n\treturn null;\n}\n\n\n// EXPORTS //\n\nmodule.exports = validate;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n// MODULES //\n\nvar deepGet = require( '@stdlib/utils-deep-get' ).factory;\nvar isArray = require( '@stdlib/assert-is-array' );\nvar copy = require( '@stdlib/utils-copy' );\nvar defaults = require( './defaults.json' );\nvar validate = require( './validate.js' );\nvar format = require( '@stdlib/string-format' );\n\n\n// MAIN //\n\n/**\n* Extracts a nested property value from each element of an object array.\n*\n* @param {Array} arr - source array\n* @param {(string|Array)} path - key path\n* @param {Options} [options] - function options\n* @param {boolean} [options.copy=true] - boolean indicating whether to return a new data structure\n* @param {string} [options.sep=\".\"] - key path separator\n* @throws {TypeError} first argument must be an array\n* @throws {TypeError} options argument must be an object\n* @throws {TypeError} must provide valid options\n* @returns {Array} destination array\n*\n* @example\n* var arr = [\n*     {'a':{'b':{'c':1}}},\n*     {'a':{'b':{'c':2}}}\n* ];\n*\n* var out = deepPluck( arr, 'a.b.c' );\n* // returns [ 1, 2 ]\n*\n* @example\n* var arr = [\n*     {'a':[0,1,2]},\n*     {'a':[3,4,5]}\n* ];\n*\n* var out = deepPluck( arr, ['a',1] );\n* // returns [ 1, 4 ]\n*\n* @example\n* var arr = [\n*     {'a':{'b':{'c':1}}},\n*     {'a':{'b':{'c':2}}}\n* ];\n*\n* var out = deepPluck( arr, 'a.b.c', {'copy':false} );\n* // returns [ 1, 2 ]\n*\n* var bool = ( arr[ 0 ] === out[ 0 ] );\n* // returns true\n*\n* @example\n* var arr = [\n*     {'a':{'b':{'c':1}}},\n*     {'a':{'b':{'c':2}}}\n* ];\n*\n* var out = deepPluck( arr, 'a|b|c', {'sep':'|'} );\n* // returns [ 1, 2 ]\n*/\nfunction deepPluck( arr, path, options ) {\n\tvar dget;\n\tvar opts;\n\tvar out;\n\tvar err;\n\tvar i;\n\n\tif ( !isArray( arr ) ) {\n\t\tthrow new TypeError( format( 'invalid argument. First argument must be an array. Value: `%s`.', arr ) );\n\t}\n\topts = copy( defaults );\n\tif ( arguments.length > 2 ) {\n\t\terr = validate( opts, options );\n\t\tif ( err ) {\n\t\t\tthrow err;\n\t\t}\n\t}\n\tif ( opts.copy ) {\n\t\tout = new Array( arr.length );\n\t} else {\n\t\tout = arr;\n\t}\n\tdget = deepGet( path, {\n\t\t'sep': opts.sep\n\t});\n\tfor ( i = 0; i < arr.length; i++ ) {\n\t\tout[ i ] = dget( arr[ i ] );\n\t}\n\treturn out;\n}\n\n\n// EXPORTS //\n\nmodule.exports = deepPluck;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\n'use strict';\n\n/**\n* Extract a nested property value from each element of an object array.\n*\n* @module @stdlib/utils-deep-pluck\n*\n* @example\n* var pluck = require( '@stdlib/utils-deep-pluck' );\n*\n* var arr = [\n*     {'a':{'b':{'c':1}}},\n*     {'a':{'b':{'c':2}}}\n* ];\n*\n* var out = deepPluck( arr, 'a.b.c' );\n* // returns [ 1, 2 ]\n*\n* arr = [\n*     {'a':[0,1,2]},\n*     {'a':[3,4,5]}\n* ];\n*\n* out = deepPluck( arr, ['a',1] );\n* // returns [ 1, 4 ]\n*/\n\n// MODULES //\n\nvar deepPluck = require( './deep_pluck.js' );\n\n\n// EXPORTS //\n\nmodule.exports = deepPluck;\n"],"names":["isBoolean","require$$0","isPrimitive","isString","require$$1","isObject","require$$2","hasOwnProp","require$$3","format","require$$4","validate_1","opts","options","copy","TypeError","sep","deepGet","factory","isArray","defaults","validate","require$$5","lib","arr","path","dget","out","err","i","arguments","length","Array"],"mappings":";;0rBAsBIA,EAAYC,EAAuCC,YACnDC,EAAWC,EAAsCF,YACjDG,EAAWC,EACXC,EAAaC,EACbC,EAASC,EAgDb,IAAAC,EAtBA,SAAmBC,EAAMC,GACxB,OAAMR,EAAUQ,GAGXN,EAAYM,EAAS,UACzBD,EAAKE,KAAOD,EAAQC,MACdd,EAAWY,EAAKE,OACd,IAAIC,UAAWN,EAAQ,+DAAgE,OAAQG,EAAKE,OAGxGP,EAAYM,EAAS,SACzBD,EAAKI,IAAMH,EAAQG,KACbb,EAAUS,EAAKI,MACb,IAAID,UAAWN,EAAQ,8DAA+D,MAAOG,EAAKI,MAGpG,KAdC,IAAID,UAAWN,EAAQ,qEAAsEI,KChClGI,EAAUhB,EAAoCiB,QAC9CC,EAAUf,EACVU,EAAOR,EACPc,EAAWZ,EACXa,EAAWX,EACXD,EAASa,EA2Fb,IClEAC,EDgCA,SAAoBC,EAAKC,EAAMZ,GAC9B,IAAIa,EACAd,EACAe,EACAC,EACAC,EAEJ,IAAMV,EAASK,GACd,MAAM,IAAIT,UAAWN,EAAQ,kEAAmEe,IAGjG,GADAZ,EAAOE,EAAMM,GACRU,UAAUC,OAAS,IACvBH,EAAMP,EAAUT,EAAMC,IAErB,MAAMe,EAWR,IAPCD,EADIf,EAAKE,KACH,IAAIkB,MAAOR,EAAIO,QAEfP,EAEPE,EAAOT,EAASQ,EAAM,CACrBT,IAAOJ,EAAKI,MAEPa,EAAI,EAAGA,EAAIL,EAAIO,OAAQF,IAC5BF,EAAKE,GAAMH,EAAMF,EAAKK,IAEvB,OAAOF"}